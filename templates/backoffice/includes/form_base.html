{% extends "backoffice/base.html" %}

{% block page_title %}
<div>{{ title }}</div>
<div class="text-sm font-normal text-slate-500 mt-1">{% block subtitle %}{% endblock %}</div>
{% endblock %}

{% block content %}
<form method="post" enctype="multipart/form-data" class="{% block form_width %}max-w-2xl mx-auto{% endblock %}">
    {% csrf_token %}

    <div class="bg-white rounded-2xl p-8 border border-slate-100 shadow-sm space-y-6">
        {% if form.non_field_errors %}
        <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl text-sm mb-6">
            <p class="font-bold">Error:</p>
            <ul class="list-disc list-inside">
                {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}

        {% block form_fields %}
        {% for field in form %}
        <div>
            <label for="{{ field.id_for_label }}" class="block text-xs font-bold text-slate-500 uppercase mb-1">
                {{ field.label }} {% if field.field.required %}*{% endif %}
            </label>
            <div class="relative">
                {{ field }}
            </div>
            {% if field.help_text %}
            <p class="text-[10px] text-slate-400 mt-1">{{ field.help_text }}</p>
            {% endif %}
            {% if field.errors %}
            <div class="text-red-500 text-xs mt-1">
                {% for error in field.errors %}{{ error }} {% endfor %}
            </div>
            {% endif %}
        </div>
        {% endfor %}
        {% endblock %}
    </div>

    <div class="flex gap-4 mt-6 justify-end">
        <a href="{% block cancel_url %}javascript:history.back(){% endblock %}"
            class="px-6 py-3 text-slate-500 font-medium hover:bg-slate-100 rounded-xl transition-colors">
            Cancelar
        </a>
        <button type="submit"
            class="px-8 py-3 bg-slate-900 text-white font-bold rounded-xl hover:opacity-90 transition-opacity shadow-lg shadow-slate-900/20">
            {% block submit_label %}Guardar{% endblock %}
        </button>
    </div>
</form>
{% endblock %}