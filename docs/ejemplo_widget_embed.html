<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ejemplo de Widget Embebible - Horario</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            font-weight: 800;
        }
        
        .header p {
            font-size: 1.25rem;
            opacity: 0.9;
        }
        
        .widget-container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            margin-bottom: 40px;
        }
        
        .widget-container iframe {
            width: 100%;
            border: none;
            border-radius: 12px;
            min-height: 800px;
        }
        
        .code-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        .code-section h2 {
            margin-top: 0;
            color: #1e293b;
            font-size: 1.75rem;
        }
        
        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 12px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }
        
        .code-block code {
            display: block;
            white-space: pre;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature {
            background: #f1f5f9;
            padding: 20px;
            border-radius: 12px;
        }
        
        .feature h3 {
            margin-top: 0;
            color: #1e293b;
            font-size: 1.1rem;
        }
        
        .feature p {
            color: #64748b;
            margin: 0;
            font-size: 0.9rem;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e2e8f0;
        }
        
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            color: #64748b;
            border-bottom: 2px solid transparent;
            margin-bottom: -2px;
            transition: all 0.2s;
        }
        
        .tab:hover {
            color: #1e293b;
        }
        
        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }
            
            .widget-container iframe {
                min-height: 600px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Widget de Horario Embebible</h1>
            <p>Integra el horario de clases en tu p√°gina web con una l√≠nea de c√≥digo</p>
        </div>
        
        <!-- Widget en acci√≥n -->
        <div class="widget-container">
            <iframe 
                src="http://localhost:8000/embed/qombo-arganzuela/schedule/?theme=light" 
                id="scheduleWidget"
                scrolling="no">
            </iframe>
        </div>
        
        <!-- Documentaci√≥n -->
        <div class="code-section">
            <h2>üìù C√≥mo Integrar el Widget</h2>
            
            <div class="tabs">
                <button class="tab active" onclick="showTab('basic')">B√°sico</button>
                <button class="tab" onclick="showTab('advanced')">Avanzado</button>
                <button class="tab" onclick="showTab('wordpress')">WordPress</button>
                <button class="tab" onclick="showTab('react')">React/Vue</button>
            </div>
            
            <!-- Tab: B√°sico -->
            <div id="basic" class="tab-content active">
                <h3>Integraci√≥n B√°sica</h3>
                <p>Copia y pega este c√≥digo en tu p√°gina HTML:</p>
                
                <div class="code-block">
                    <code>&lt;!-- Widget de Horario --&gt;
&lt;iframe 
    src="https://tudominio.com/embed/tu-slug-gym/schedule/" 
    width="100%" 
    height="800px" 
    frameborder="0"
    scrolling="no"&gt;
&lt;/iframe&gt;

&lt;!-- Script para ajuste autom√°tico de altura --&gt;
&lt;script&gt;
window.addEventListener('message', function(e) {
    if (e.data.type === 'resize') {
        document.querySelector('iframe').style.height = e.data.height + 'px';
    }
});
&lt;/script&gt;</code>
                </div>
            </div>
            
            <!-- Tab: Avanzado -->
            <div id="advanced" class="tab-content">
                <h3>Opciones Avanzadas</h3>
                <p>Personaliza el widget con par√°metros URL:</p>
                
                <div class="code-block">
                    <code>&lt;!-- Tema oscuro --&gt;
&lt;iframe src="...schedule/?theme=dark"&gt;&lt;/iframe&gt;

&lt;!-- Con vista por defecto de d√≠a --&gt;
&lt;iframe src="...schedule/?view=day"&gt;&lt;/iframe&gt;

&lt;!-- Filtrado por actividad espec√≠fica --&gt;
&lt;iframe src="...schedule/?activity=5"&gt;&lt;/iframe&gt;

&lt;!-- Combinaci√≥n --&gt;
&lt;iframe src="...schedule/?theme=dark&view=week&activity=3"&gt;&lt;/iframe&gt;</code>
                </div>
                
                <h3 style="margin-top: 30px;">Responsive Design</h3>
                <div class="code-block">
                    <code>&lt;style&gt;
.schedule-widget-container {
    position: relative;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
}

.schedule-widget-container iframe {
    width: 100%;
    border: none;
    border-radius: 12px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

@media (max-width: 768px) {
    .schedule-widget-container iframe {
        height: 600px !important;
    }
}
&lt;/style&gt;

&lt;div class="schedule-widget-container"&gt;
    &lt;iframe src="..." height="800"&gt;&lt;/iframe&gt;
&lt;/div&gt;</code>
                </div>
            </div>
            
            <!-- Tab: WordPress -->
            <div id="wordpress" class="tab-content">
                <h3>Integraci√≥n en WordPress</h3>
                
                <p><strong>M√©todo 1: Block Editor (Gutenberg)</strong></p>
                <ol style="color: #64748b;">
                    <li>Crea o edita una p√°gina</li>
                    <li>A√±ade un bloque "HTML Personalizado"</li>
                    <li>Pega el c√≥digo del iframe</li>
                    <li>Publica la p√°gina</li>
                </ol>
                
                <div class="code-block">
                    <code>&lt;!-- Pega esto en el bloque HTML --&gt;
&lt;div style="max-width: 1200px; margin: 40px auto;"&gt;
    &lt;iframe 
        src="https://tudominio.com/embed/tu-gym/schedule/" 
        width="100%" 
        height="800px" 
        frameborder="0"
        style="border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);"&gt;
    &lt;/iframe&gt;
&lt;/div&gt;</code>
                </div>
                
                <p style="margin-top: 30px;"><strong>M√©todo 2: Shortcode Personalizado</strong></p>
                <p>A√±ade esto en functions.php de tu tema:</p>
                
                <div class="code-block">
                    <code>// A√±adir al functions.php
function gym_schedule_shortcode($atts) {
    $atts = shortcode_atts(array(
        'gym' => 'tu-gym',
        'theme' => 'light',
        'height' => '800'
    ), $atts);
    
    $url = 'https://tudominio.com/embed/' . $atts['gym'] . '/schedule/?theme=' . $atts['theme'];
    
    return '&lt;iframe src="' . $url . '" width="100%" height="' . $atts['height'] . 'px" frameborder="0"&gt;&lt;/iframe&gt;';
}
add_shortcode('gym_schedule', 'gym_schedule_shortcode');

// Uso en p√°ginas/posts:
// [gym_schedule gym="tu-gym" theme="light" height="800"]</code>
                </div>
            </div>
            
            <!-- Tab: React/Vue -->
            <div id="react" class="tab-content">
                <h3>Integraci√≥n en React</h3>
                
                <div class="code-block">
                    <code>import React, { useEffect, useRef } from 'react';

function GymScheduleWidget({ gymSlug, theme = 'light', height = 800 }) {
    const iframeRef = useRef(null);
    
    useEffect(() => {
        const handleMessage = (event) => {
            if (event.data.type === 'resize' && iframeRef.current) {
                iframeRef.current.style.height = `${event.data.height}px`;
            }
        };
        
        window.addEventListener('message', handleMessage);
        return () => window.removeEventListener('message', handleMessage);
    }, []);
    
    const iframeUrl = `https://tudominio.com/embed/${gymSlug}/schedule/?theme=${theme}`;
    
    return (
        &lt;div className="gym-schedule-container"&gt;
            &lt;iframe
                ref={iframeRef}
                src={iframeUrl}
                width="100%"
                height={height}
                frameBorder="0"
                scrolling="no"
                title="Horario de Clases"
            /&gt;
        &lt;/div&gt;
    );
}

export default GymScheduleWidget;

// Uso:
// &lt;GymScheduleWidget gymSlug="tu-gym" theme="light" /&gt;</code>
                </div>
                
                <h3 style="margin-top: 30px;">Integraci√≥n en Vue 3</h3>
                
                <div class="code-block">
                    <code>&lt;template&gt;
  &lt;div class="gym-schedule-container"&gt;
    &lt;iframe
      ref="scheduleIframe"
      :src="iframeUrl"
      width="100%"
      :height="height + 'px'"
      frameborder="0"
      scrolling="no"
      title="Horario de Clases"
    &gt;&lt;/iframe&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup&gt;
import { ref, computed, onMounted, onUnmounted } from 'vue';

const props = defineProps({
  gymSlug: {
    type: String,
    required: true
  },
  theme: {
    type: String,
    default: 'light'
  },
  height: {
    type: Number,
    default: 800
  }
});

const scheduleIframe = ref(null);

const iframeUrl = computed(() => 
  `https://tudominio.com/embed/${props.gymSlug}/schedule/?theme=${props.theme}`
);

const handleMessage = (event) => {
  if (event.data.type === 'resize' && scheduleIframe.value) {
    scheduleIframe.value.style.height = `${event.data.height}px`;
  }
};

onMounted(() => {
  window.addEventListener('message', handleMessage);
});

onUnmounted(() => {
  window.removeEventListener('message', handleMessage);
});
&lt;/script&gt;

&lt;!-- Uso: --&gt;
&lt;!-- &lt;GymScheduleWidget gym-slug="tu-gym" theme="light" /&gt; --&gt;</code>
                </div>
            </div>
            
            <!-- Caracter√≠sticas -->
            <div class="features">
                <div class="feature">
                    <h3>üì± 100% Responsive</h3>
                    <p>Se adapta autom√°ticamente a m√≥viles, tablets y desktop</p>
                </div>
                
                <div class="feature">
                    <h3>üé® Personalizable</h3>
                    <p>Tema claro/oscuro y colores de tu marca autom√°ticos</p>
                </div>
                
                <div class="feature">
                    <h3>‚ö° Tiempo Real</h3>
                    <p>Actualizaci√≥n autom√°tica de horarios y disponibilidad</p>
                </div>
                
                <div class="feature">
                    <h3>üîí Seguro</h3>
                    <p>Validaci√≥n de dominio y protecci√≥n CORS</p>
                </div>
                
                <div class="feature">
                    <h3>üöÄ R√°pido</h3>
                    <p>Optimizado para carga instant√°nea</p>
                </div>
                
                <div class="feature">
                    <h3>üîó Integrado</h3>
                    <p>Redirecci√≥n a portal completo para reservas</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Ajuste autom√°tico de altura del iframe
        window.addEventListener('message', function(e) {
            if (e.data.type === 'resize') {
                const iframe = document.getElementById('scheduleWidget');
                if (iframe) {
                    iframe.style.height = e.data.height + 'px';
                }
            }
        });
        
        // Sistema de tabs
        function showTab(tabName) {
            // Ocultar todos los contenidos
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Desactivar todos los tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Activar el seleccionado
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }
    </script>
</body>
</html>
