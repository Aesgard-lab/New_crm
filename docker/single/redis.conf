# ==============================================
# Redis embebido - Configuración ultra-ligera
# ==============================================
# Redis dentro del contenedor único, solo para
# Celery broker y cache básico

# Binding local (no expuesto al exterior)
bind 127.0.0.1
port 6379

# Memoria máxima muy reducida
maxmemory 50mb
maxmemory-policy allkeys-lru

# Desactivar persistencia (Celery no necesita persistir)
save ""
appendonly no

# Desactivar funcionalidades no necesarias
tcp-keepalive 60
timeout 300

# Logging mínimo
loglevel warning
logfile ""

# Solo 1 base de datos es suficiente (0 y 1)
databases 4

# Desactivar funciones costosas
slowlog-log-slower-than 10000
slowlog-max-len 32

# Usar menos memoria
activedefrag no
hz 2
